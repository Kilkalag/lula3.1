<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Обучение решению уравнений высших степеней</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .math-equation {
            font-family: 'Times New Roman', Times, serif;
            font-size: 1.5rem;
            font-style: italic;
        }
        .solution-input {
            font-family: 'Times New Roman', Times, serif;
            font-size: 1.2rem;
        }
        .theory-text {
            text-align: left;
            white-space: pre-line;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
        }
        .block-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- Главное меню -->
        <div id="main-menu" class="text-center fade-in">
            <h1 class="text-4xl font-bold text-indigo-800 mb-8">Обучение решению уравнений высших степеней</h1>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-12">
                <div class="block-card bg-white rounded-xl shadow-md p-6 cursor-pointer transition-all duration-300" onclick="showTheory()">
                    <div class="text-indigo-600 text-5xl mb-4"><i class="fas fa-book-open"></i></div>
                    <h3 class="text-xl font-semibold mb-2">Теоретический блок</h3>
                    <p class="text-gray-600">Изучите основы и методы решения уравнений</p>
                </div>
                
                <div class="block-card bg-white rounded-xl shadow-md p-6 cursor-pointer transition-all duration-300" onclick="startBlock(1)">
                    <div class="text-blue-600 text-5xl mb-4"><i class="fas fa-cubes"></i></div>
                    <h3 class="text-xl font-semibold mb-2">Блок 1: Формулы сокращенного умножения</h3>
                    <p class="text-gray-600">10 задач на решение уравнений с помощью ФСУ</p>
                </div>
                
                <div class="block-card bg-white rounded-xl shadow-md p-6 cursor-pointer transition-all duration-300" onclick="startBlock(2)">
                    <div class="text-green-600 text-5xl mb-4"><i class="fas fa-layer-group"></i></div>
                    <h3 class="text-xl font-semibold mb-2">Блок 2: Метод группировки</h3>
                    <p class="text-gray-600">10 задач на решение методом группировки</p>
                </div>
                
                <div class="block-card bg-white rounded-xl shadow-md p-6 cursor-pointer transition-all duration-300" onclick="startBlock(3)">
                    <div class="text-purple-600 text-5xl mb-4"><i class="fas fa-square-root-alt"></i></div>
                    <h3 class="text-xl font-semibold mb-2">Блок 3: Теорема Безу</h3>
                    <p class="text-gray-600">10 задач с использованием теоремы Безу</p>
                </div>
                
                <div class="block-card bg-white rounded-xl shadow-md p-6 cursor-pointer transition-all duration-300" onclick="startBlock(4)">
                    <div class="text-red-600 text-5xl mb-4"><i class="fas fa-project-diagram"></i></div>
                    <h3 class="text-xl font-semibold mb-2">Блок 4: Схема Горнера</h3>
                    <p class="text-gray-600">10 задач на решение по схеме Горнера</p>
                </div>
                
                <div class="block-card bg-white rounded-xl shadow-md p-6 cursor-pointer transition-all duration-300" onclick="startBlock(5)">
                    <div class="text-yellow-600 text-5xl mb-4"><i class="fas fa-exchange-alt"></i></div>
                    <h3 class="text-xl font-semibold mb-2">Блок 5: Замена переменной</h3>
                    <p class="text-gray-600">10 задач с заменой переменной</p>
                </div>
                
                <div class="block-card bg-white rounded-xl shadow-md p-6 cursor-pointer transition-all duration-300" onclick="startBlock(6)">
                    <div class="text-teal-600 text-5xl mb-4"><i class="fas fa-superscript"></i></div>
                    <h3 class="text-xl font-semibold mb-2">Блок 6: Биквадратные уравнения</h3>
                    <p class="text-gray-600">10 биквадратных уравнений</p>
                </div>
            </div>
            
            <div class="mt-12 text-gray-500">
                <p>Выберите блок для начала обучения</p>
            </div>
        </div>
        
        <!-- Теоретический блок -->
        <div id="theory-block" class="hidden text-left fade-in">
            <div class="bg-white rounded-xl shadow-md p-8">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-bold text-indigo-800">Теоретический блок</h2>
                    <button onclick="showMainMenu()" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg transition-colors">
                        <i class="fas fa-arrow-left mr-2"></i>Назад
                    </button>
                </div>
                
                <div class="bg-indigo-50 rounded-lg p-6 mb-8">
                    <h3 class="text-xl font-semibold text-indigo-700 mb-4">Решение уравнений высших степеней</h3>
                    <div class="theory-text text-gray-700 leading-relaxed">
                        <p class="mb-4"><strong>1. Определение:</strong><br>
                        Уравнение высшей степени имеет вид P(x) = 0, где P(x) — многочлен степени n ≥ 3.<br>
                        Примеры: x³ - 6x² + 11x - 6 = 0 (кубическое), x⁴ - 5x² + 4 = 0 (биквадратное).</p>
                        
                        <p class="mb-4"><strong>2. Основные методы решения:</strong></p>
                        <ul class="list-disc pl-6 mb-4 space-y-2">
                            <li><strong>Разложение на множители:</strong> Ищите общие множители или используйте формулы сокращенного умножения.</li>
                            <li><strong>Метод группировки:</strong> Группируйте слагаемые для вынесения общего множителя.</li>
                            <li><strong>Схема Горнера:</strong> Позволяет делить многочлен на (x - c) и находить корни.</li>
                            <li><strong>Теорема Безу:</strong> Если a — корень, то P(x) делится на (x - a) без остатка.</li>
                            <li><strong>Метод замены:</strong> Заменяйте часть уравнения новой переменной (например, x² = t).</li>
                        </ul>
                        
                        <p class="mb-4"><strong>3. Пример решения:</strong><br>
                        Уравнение: <span class="math-equation">x³ - 6x² + 11x - 6 = 0</span><br>
                        - По теореме Безу: x = 1 — корень.<br>
                        - Делим многочлен на (x - 1): получаем квадратное уравнение.<br>
                        - Решаем квадратное уравнение: x = 2, x = 3.<br>
                        <strong>Ответ:</strong> x ∈ {1, 2, 3}.</p>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white border border-blue-100 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-blue-700 mb-3">Формулы сокращенного умножения</h4>
                        <ul class="space-y-2 text-gray-700">
                            <li><span class="math-equation">(a ± b)² = a² ± 2ab + b²</span></li>
                            <li><span class="math-equation">a² - b² = (a - b)(a + b)</span></li>
                            <li><span class="math-equation">(a ± b)³ = a³ ± 3a²b + 3ab² ± b³</span></li>
                            <li><span class="math-equation">a³ ± b³ = (a ± b)(a² ∓ ab + b²)</span></li>
                        </ul>
                    </div>
                    
                    <div class="bg-white border border-green-100 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-green-700 mb-3">Теорема Безу</h4>
                        <p class="text-gray-700 mb-2">Остаток от деления многочлена P(x) на (x - c) равен P(c).</p>
                        <p class="text-gray-700">Если P(c) = 0, то c — корень многочлена.</p>
                    </div>
                    
                    <div class="bg-white border border-purple-100 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-purple-700 mb-3">Схема Горнера</h4>
                        <p class="text-gray-700">Метод деления многочлена на (x - c) с помощью таблицы коэффициентов.</p>
                    </div>
                    
                    <div class="bg-white border border-red-100 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-red-700 mb-3">Биквадратные уравнения</h4>
                        <p class="text-gray-700">Уравнения вида <span class="math-equation">ax⁴ + bx² + c = 0</span></p>
                        <p class="text-gray-700">Решаются заменой <span class="math-equation">t = x²</span></p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Блок с задачами -->
        <div id="task-block" class="hidden fade-in">
            <div class="bg-white rounded-xl shadow-md p-8">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 id="block-title" class="text-3xl font-bold text-indigo-800"></h2>
                        <p id="task-counter" class="text-gray-600 mt-1"></p>
                    </div>
                    <button onclick="showMainMenu()" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg transition-colors">
                        <i class="fas fa-arrow-left mr-2"></i>Назад
                    </button>
                </div>
                
                <div class="mb-6">
                    <div class="flex justify-between mb-1">
                        <span class="text-sm font-medium text-indigo-700">Прогресс</span>
                        <span id="progress-percent" class="text-sm font-medium text-indigo-700">0%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div id="progress-bar" class="bg-indigo-600 h-2.5 rounded-full progress-bar" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="bg-indigo-50 rounded-lg p-6 mb-8">
                    <h3 class="text-xl font-semibold text-indigo-700 mb-4">Решите уравнение:</h3>
                    <div id="equation" class="math-equation text-2xl text-center my-8"></div>
                    
                    <div class="mb-6">
                        <label for="answer-input" class="block text-sm font-medium text-gray-700 mb-2">Введите корни через запятую (например: 1, -2, 3)</label>
                        <input type="text" id="answer-input" class="solution-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                    </div>
                    
                    <div class="flex flex-wrap gap-4">
                        <button onclick="checkAnswer()" class="flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors">
                            <i class="fas fa-check mr-2"></i>Проверить
                        </button>
                        <button onclick="showHint()" class="flex-1 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-3 px-6 rounded-lg transition-colors">
                            <i class="fas fa-lightbulb mr-2"></i>Подсказка
                        </button>
                    </div>
                </div>
                
                <div id="hint-area" class="hidden bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6">
                    <div class="flex">
                        <div class="flex-shrink-0 text-yellow-500">
                            <i class="fas fa-info-circle text-xl"></i>
                        </div>
                        <div class="ml-3">
                            <h3 class="text-sm font-medium text-yellow-800">Подсказка</h3>
                            <div id="hint-content" class="mt-2 text-sm text-yellow-700"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Результаты -->
        <div id="results-block" class="hidden fade-in">
            <div class="bg-white rounded-xl shadow-md p-8 text-center">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold text-indigo-800 mb-2">Результаты</h2>
                    <p class="text-gray-600">Вы завершили блок задач</p>
                </div>
                
                <div class="bg-indigo-50 rounded-lg p-8 mb-8 max-w-md mx-auto">
                    <div id="result-icon" class="text-6xl mb-4">😊</div>
                    <h3 id="result-title" class="text-2xl font-semibold mb-2">Хороший результат!</h3>
                    <p id="result-text" class="text-gray-700 mb-6">Вы решили правильно 7 из 10 задач</p>
                    
                    <div class="w-full bg-gray-200 rounded-full h-4 mb-6">
                        <div id="result-progress" class="bg-green-500 h-4 rounded-full progress-bar" style="width: 70%"></div>
                    </div>
                    
                    <div class="flex justify-between text-sm text-gray-600">
                        <span>0%</span>
                        <span>50%</span>
                        <span>100%</span>
                    </div>
                </div>
                
                <div class="flex flex-wrap justify-center gap-4">
                    <button onclick="restartBlock()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors">
                        <i class="fas fa-redo mr-2"></i>Попробовать снова
                    </button>
                    <button onclick="showMainMenu()" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition-colors">
                        <i class="fas fa-home mr-2"></i>На главную
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Состояние игры
        const gameState = {
            currentBlock: 0,
            currentTask: 0,
            score: 0,
            tasks: [],
            blockTitles: {
                1: "Формулы сокращенного умножения",
                2: "Метод группировки",
                3: "Теорема Безу",
                4: "Схема Горнера",
                5: "Замена переменной",
                6: "Биквадратные уравнения"
            },
            blockHints: {
                1: "Попробуйте применить формулы сокращенного умножения: разность квадратов, квадрат суммы/разности, разность кубов.",
                2: "Сгруппируйте слагаемые так, чтобы можно было вынести общий множитель за скобки.",
                3: "Попробуйте подставить делители свободного члена в уравнение (теорема Безу).",
                4: "Используйте схему Горнера для деления многочлена на (x - c), где c — предполагаемый корень.",
                5: "Попробуйте заменить часть уравнения новой переменной (например, x² = t).",
                6: "Сделайте замену переменной t = x², решите квадратное уравнение относительно t, затем найдите x."
            }
        };

        // Показать главное меню
        function showMainMenu() {
            document.getElementById('main-menu').classList.remove('hidden');
            document.getElementById('theory-block').classList.add('hidden');
            document.getElementById('task-block').classList.add('hidden');
            document.getElementById('results-block').classList.add('hidden');
        }

        // Показать теорию
        function showTheory() {
            document.getElementById('main-menu').classList.add('hidden');
            document.getElementById('theory-block').classList.remove('hidden');
        }

        // Начать блок задач
        function startBlock(blockNum) {
            gameState.currentBlock = blockNum;
            gameState.currentTask = 0;
            gameState.score = 0;
            generateTasks(blockNum);
            showTask();
            
            document.getElementById('main-menu').classList.add('hidden');
            document.getElementById('task-block').classList.remove('hidden');
            document.getElementById('hint-area').classList.add('hidden');
            
            // Установка заголовка блока
            document.getElementById('block-title').textContent = `Блок ${blockNum}: ${gameState.blockTitles[blockNum]}`;
        }

        // Генерация задач для блока
        function generateTasks(blockNum) {
            gameState.tasks = [];
            
            // Генерация 10 задач для выбранного блока
            for (let i = 0; i < 10; i++) {
                let task = {};
                
                switch(blockNum) {
                    case 1: // ФСУ
                        const fsuType = Math.floor(Math.random() * 3) + 1;
                        if (fsuType === 1) { // Разность квадратов
                            const a = Math.floor(Math.random() * 5) + 1;
                            task.equation = `x² - ${a*a} = 0`;
                            task.solution = [-a, a];
                        } else if (fsuType === 2) { // Квадрат суммы
                            const a = Math.floor(Math.random() * 3) + 1;
                            const b = Math.floor(Math.random() * 3) + 1;
                            task.equation = `x² + ${2*a*b}x + ${a*a*b*b} = 0`;
                            task.solution = [-a*b];
                        } else { // Разность кубов
                            const a = Math.floor(Math.random() * 3) + 1;
                            task.equation = `x³ - ${a*a*a} = 0`;
                            task.solution = [a];
                        }
                        break;
                        
                    case 2: // Метод группировки
                        const roots = [
                            Math.floor(Math.random() * 7) - 3,
                            Math.floor(Math.random() * 7) - 3,
                            Math.floor(Math.random() * 7) - 3
                        ].filter(x => x !== 0);
                        
                        const sum = roots.reduce((a, b) => a + b, 0);
                        const sumPairs = roots[0]*roots[1] + roots[0]*roots[2] + roots[1]*roots[2];
                        const product = roots.reduce((a, b) => a * b, 1);
                        
                        task.equation = `x³ ${sum >= 0 ? '-' : '+'} ${Math.abs(sum)}x² ${sumPairs >= 0 ? '+' : '-'} ${Math.abs(sumPairs)}x ${product >= 0 ? '-' : '+'} ${Math.abs(product)} = 0`;
                        task.solution = [...new Set(roots)].sort((a, b) => a - b);
                        break;
                        
                    case 3: // Теорема Безу
                        const root = Math.floor(Math.random() * 5) - 2;
                        if (root === 0) root = 1;
                        
                        const otherRoots = [
                            Math.floor(Math.random() * 5) - 2,
                            Math.floor(Math.random() * 5) - 2
                        ].filter(x => x !== 0 && x !== root);
                        
                        const allRoots = [root, ...otherRoots];
                        const uniqueRoots = [...new Set(allRoots)].sort((a, b) => a - b);
                        
                        task.equation = uniqueRoots.map(r => `(x ${r >= 0 ? '-' : '+'} ${Math.abs(r)})`).join(' * ') + ' = 0';
                        task.solution = uniqueRoots;
                        break;
                        
                    case 4: // Схема Горнера
                        const hornerRoot = Math.floor(Math.random() * 5) - 2;
                        if (hornerRoot === 0) hornerRoot = 1;
                        
                        const b = Math.floor(Math.random() * 5) - 2;
                        const c = -hornerRoot * b;
                        
                        task.equation = `x³ ${b >= 0 ? '+' : '-'} ${Math.abs(b)}x² ${c >= 0 ? '+' : '-'} ${Math.abs(c)}x ${-hornerRoot*c >= 0 ? '+' : '-'} ${Math.abs(-hornerRoot*c)} = 0`;
                        task.solution = [hornerRoot, -c/b].sort((a, b) => a - b);
                        break;
                        
                    case 5: // Замена переменной
                        const subType = Math.floor(Math.random() * 2) + 1;
                        if (subType === 1) {
                            const b = [1, 4, 9][Math.floor(Math.random() * 3)];
                            task.equation = `x⁴ - ${b}x² = 0`;
                            task.solution = [-Math.sqrt(b), 0, Math.sqrt(b)].sort((a, b) => a - b);
                        } else {
                            const k = Math.floor(Math.random() * 3) + 1;
                            const m = Math.floor(Math.random() * 3) + 1;
                            task.equation = `x³ + ${k}x² + ${m}x = 0`;
                            const discriminant = k*k - 4*m;
                            if (discriminant >= 0) {
                                const x1 = (-k + Math.sqrt(discriminant)) / 2;
                                const x2 = (-k - Math.sqrt(discriminant)) / 2;
                                task.solution = [0, x1, x2].sort((a, b) => a - b);
                            } else {
                                task.solution = [0];
                            }
                        }
                        break;
                        
                    case 6: // Биквадратные уравнения
                        const biquadType = Math.floor(Math.random() * 2) + 1;
                        if (biquadType === 1) {
                            const b = [5, 10, 13][Math.floor(Math.random() * 3)];
                            const c = [4, 9, 25][Math.floor(Math.random() * 3)];
                            task.equation = `x⁴ - ${b}x² + ${c} = 0`;
                            const t1 = (b + Math.sqrt(b*b - 4*c)) / 2;
                            const t2 = (b - Math.sqrt(b*b - 4*c)) / 2;
                            const roots = [];
                            if (t1 >= 0) {
                                roots.push(-Math.sqrt(t1), Math.sqrt(t1));
                            }
                            if (t2 >= 0) {
                                roots.push(-Math.sqrt(t2), Math.sqrt(t2));
                            }
                            task.solution = [...new Set(roots)].sort((a, b) => a - b);
                        } else {
                            const a = Math.floor(Math.random() * 2) + 1;
                            const b = Math.floor(Math.random() * 3) + 1;
                            task.equation = `${a}x⁴ - ${b*b*a}x² = 0`;
                            task.solution = [-b, 0, b].sort((a, b) => a - b);
                        }
                        break;
                }
                
                gameState.tasks.push(task);
            }
        }

        // Показать текущую задачу
        function showTask() {
            if (gameState.currentTask >= gameState.tasks.length) {
                showResults();
                return;
            }
            
            const task = gameState.tasks[gameState.currentTask];
            document.getElementById('equation').textContent = task.equation;
            document.getElementById('answer-input').value = '';
            
            // Обновление счетчика задач
            document.getElementById('task-counter').textContent = 
                `Задача ${gameState.currentTask + 1} из ${gameState.tasks.length}`;
            
            // Обновление прогресс-бара
            const progress = (gameState.currentTask / gameState.tasks.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('progress-percent').textContent = `${Math.round(progress)}%`;
        }

        // Показать подсказку
        function showHint() {
            document.getElementById('hint-content').textContent = gameState.blockHints[gameState.currentBlock];
            document.getElementById('hint-area').classList.remove('hidden');
        }

        // Проверить ответ
        function checkAnswer() {
            const task = gameState.tasks[gameState.currentTask];
            const userInput = document.getElementById('answer-input').value.trim();
            
            try {
                // Парсинг ввода пользователя
                const userAnswers = userInput.split(',')
                    .map(x => x.trim())
                    .filter(x => x !== '')
                    .map(x => {
                        // Преобразование дробей вида a/b
                        if (x.includes('/')) {
                            const [numerator, denominator] = x.split('/').map(Number);
                            return numerator / denominator;
                        }
                        return Number(x);
                    })
                    .sort((a, b) => a - b);
                
                // Проверка ответа
                const correctAnswers = task.solution.map(x => Number(x.toFixed(2)));
                const userAnswersRounded = userAnswers.map(x => Number(x.toFixed(2)));
                
                // Сравнение массивов
                const isCorrect = JSON.stringify(userAnswersRounded) === JSON.stringify(correctAnswers);
                
                if (isCorrect) {
                    gameState.score++;
                    showAlert('Правильно!', 'Поздравляем, ваш ответ верный.', 'success');
                } else {
                    // Поиск различий
                    const missing = correctAnswers.filter(x => !userAnswersRounded.includes(x));
                    const extra = userAnswersRounded.filter(x => !correctAnswers.includes(x));
                    
                    let message = 'Неправильный ответ.';
                    if (missing.length > 0) {
                        message += ` Пропущенные корни: ${missing.join(', ')}.`;
                    }
                    if (extra.length > 0) {
                        message += ` Лишние корни: ${extra.join(', ')}.`;
                    }
                    
                    showAlert('Ошибка', message, 'error');
                }
                
                // Переход к следующей задаче
                gameState.currentTask++;
                setTimeout(showTask, 2000);
                
            } catch (e) {
                showAlert('Ошибка', 'Пожалуйста, введите корни через запятую (например: 1, -2, 3.5, 1/2)', 'error');
            }
        }

        // Показать результаты блока
        function showResults() {
            document.getElementById('task-block').classList.add('hidden');
            document.getElementById('results-block').classList.remove('hidden');
            
            const total = gameState.tasks.length;
            const percentage = (gameState.score / total) * 100;
            
            // Установка результатов
            document.getElementById('result-text').textContent = 
                `Вы решили правильно ${gameState.score} из ${total} задач`;
            document.getElementById('result-progress').style.width = `${percentage}%`;
            
            // Установка оценки и иконки
            let title, icon;
            if (percentage >= 80) {
                title = 'Отличный результат!';
                icon = '🥳';
                document.getElementById('result-progress').classList.remove('bg-yellow-500', 'bg-green-500');
                document.getElementById('result-progress').classList.add('bg-green-500');
                document.getElementById('result-title').classList.remove('text-yellow-600', 'text-green-600');
                document.getElementById('result-title').classList.add('text-green-600');
            } else if (percentage >= 50) {
                title = 'Хороший результат!';
                icon = '😊';
                document.getElementById('result-progress').classList.remove('bg-yellow-500', 'bg-green-500');
                document.getElementById('result-progress').classList.add('bg-yellow-500');
                document.getElementById('result-title').classList.remove('text-yellow-600', 'text-green-600');
                document.getElementById('result-title').classList.add('text-yellow-600');
            } else {
                title = 'Попробуйте еще раз!';
                icon = '😕';
                document.getElementById('result-progress').classList.remove('bg-yellow-500', 'bg-green-500');
                document.getElementById('result-progress').classList.add('bg-red-500');
                document.getElementById('result-title').classList.remove('text-yellow-600', 'text-green-600');
                document.getElementById('result-title').classList.add('text-red-600');
            }
            
            document.getElementById('result-title').textContent = title;
            document.getElementById('result-icon').textContent = icon;
        }

        // Перезапустить текущий блок
        function restartBlock() {
            startBlock(gameState.currentBlock);
        }

        // Вспомогательная функция для показа уведомлений
        function showAlert(title, message, type) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg flex items-center ${
                type === 'success' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
            }`;
            
            const icon = document.createElement('i');
            icon.className = `mr-3 text-xl ${
                type === 'success' ? 'fas fa-check-circle' : 'fas fa-exclamation-circle'
            }`;
            
            const contentDiv = document.createElement('div');
            const titleP = document.createElement('p');
            titleP.className = 'font-bold';
            titleP.textContent = title;
            
            const messageP = document.createElement('p');
            messageP.className = 'text-sm';
            messageP.textContent = message;
            
            contentDiv.appendChild(titleP);
            contentDiv.appendChild(messageP);
            
            alertDiv.appendChild(icon);
            alertDiv.appendChild(contentDiv);
            
            document.body.appendChild(alertDiv);
            
            setTimeout(() => {
                alertDiv.classList.add('opacity-0', 'transition-opacity', 'duration-500');
                setTimeout(() => alertDiv.remove(), 500);
            }, 3000);
        }
    </script>
</body>
</html>
