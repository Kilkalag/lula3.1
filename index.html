#ЭТО РАБОЧИЙ КОД НО С ГРАДИЕНТНОЙ КНОПКОЙ 
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мастер уравнений высших степеней</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap');
        
        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #e6e6e6;
        }
        
        .card-glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }
        
        .btn-gradient {
            background: linear-gradient(45deg, #6a11cb 0%, #2575fc 100%);
            transition: all 0.3s ease;
        }
        
        .btn-gradient:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .block-btn {
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.05);
        }
        
        .block-btn:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .math-icon {
            font-size: 2rem;
            background: linear-gradient(45deg, #ff9966, #ff5e62);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .floating {
            animation: floating 6s ease-in-out infinite;
        }
        
        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
            100% { transform: translateY(0px); }
        }
        
        .progress-bar {
            height: 6px;
            background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%);
            transition: width 0.5s ease;
        }
    </style>
</head>
<body class="antialiased">
    <!-- Главное меню -->
    <div id="main-menu" class="container mx-auto px-4 py-12">
        <div class="max-w-4xl mx-auto text-center">
            <!-- Анимированный заголовок -->
            <div class="floating mb-8">
                <h1 class="text-5xl font-bold mb-4 bg-gradient-to-r from-purple-400 via-pink-500 to-red-500 bg-clip-text text-transparent">
                    Мастер уравнений высших степеней
                </h1>
                <p class="text-xl text-gray-300">Совершенствуйте свои навыки решения сложных уравнений</p>
            </div>
            
            <!-- Карточка с кнопками -->
            <div class="card-glass rounded-2xl p-8 mb-12">
                <!-- Кнопка теории -->
                <button onclick="showTheory()" class="btn-gradient text-white font-bold py-4 px-8 rounded-full mb-6 w-full max-w-md mx-auto flex items-center justify-center">
                    <i class="fas fa-book-open mr-3"></i> Теоретический блок
                </button>
                
                <h2 class="text-2xl font-semibold mb-6 text-white">Практические блоки</h2>
                
                <!-- Блоки задач -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <button onclick="startBlock(1)" class="block-btn rounded-xl p-6 text-left group">
                        <div class="flex items-center mb-3">
                            <div class="math-icon mr-3">
                                <i class="fas fa-square-root-alt"></i>
                            </div>
                            <h3 class="text-lg font-semibold">Виды уравнений</h3>
                        </div>
                        <p class="text-gray-300 text-sm">Изучите различные типы уравнений высших степеней</p>
                    </button>
                    
                    <button onclick="startBlock(2)" class="block-btn rounded-xl p-6 text-left group">
                        <div class="flex items-center mb-3">
                            <div class="math-icon mr-3">
                                <i class="fas fa-layer-group"></i>
                            </div>
                            <h3 class="text-lg font-semibold">Решение по ФСУ</h3>
                        </div>
                        <p class="text-gray-300 text-sm">Применение формул сокращенного умножения</p>
                    </button>
                    
                    <button onclick="startBlock(3)" class="block-btn rounded-xl p-6 text-left group">
                        <div class="flex items-center mb-3">
                            <div class="math-icon mr-3">
                                <i class="fas fa-function"></i>
                            </div>
                            <h3 class="text-lg font-semibold">Метод группировки</h3>
                        </div>
                        <p class="text-gray-300 text-sm">Группировка слагаемых для упрощения</p>
                    </button>
                    
                    <button onclick="startBlock(4)" class="block-btn rounded-xl p-6 text-left group">
                        <div class="flex items-center mb-3">
                            <div class="math-icon mr-3">
                                <i class="fas fa-table"></i>
                            </div>
                            <h3 class="text-lg font-semibold">Схема Горнера</h3>
                        </div>
                        <p class="text-gray-300 text-sm">Эффективное деление многочленов</p>
                    </button>
                    
                    <button onclick="startBlock(5)" class="block-btn rounded-xl p-6 text-left group">
                        <div class="flex items-center mb-3">
                            <div class="math-icon mr-3">
                                <i class="fas fa-exchange-alt"></i>
                            </div>
                            <h3 class="text-lg font-semibold">Теорема Безу</h3>
                        </div>
                        <p class="text-gray-300 text-sm">Поиск корней среди делителей</p>
                    </button>
                    
                    <button onclick="startBlock(6)" class="block-btn rounded-xl p-6 text-left group">
                        <div class="flex items-center mb-3">
                            <div class="math-icon mr-3">
                                <i class="fas fa-superscript"></i>
                            </div>
                            <h3 class="text-lg font-semibold">Новая переменная</h3>
                        </div>
                        <p class="text-gray-300 text-sm">Упрощение уравнений заменой</p>
                    </button>
                </div>
            </div>
            
            <!-- Выход -->
            <button onclick="exitApp()" class="text-gray-400 hover:text-white mt-8">
                <i class="fas fa-sign-out-alt mr-2"></i> Выход
            </button>
        </div>
    </div>
    
    <!-- Теоретический блок (скрыт по умолчанию) -->
    <div id="theory-section" class="hidden container mx-auto px-4 py-12 max-w-4xl">
        <button onclick="showMainMenu()" class="flex items-center text-gray-400 hover:text-white mb-8">
            <i class="fas fa-arrow-left mr-2"></i> Назад
        </button>
        
        <div class="card-glass rounded-2xl p-8">
            <h2 class="text-3xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent">
                Теоретический материал
            </h2>
            
            <div class="prose prose-invert max-w-none">
                <h3 class="text-xl font-semibold mb-3">Решение уравнений высших степеней</h3>
                
                <h4 class="font-semibold mt-6 mb-2">1. Основные понятия:</h4>
                <p>Уравнение высшей степени - это уравнение вида:</p>
                <p class="text-center text-xl my-4 font-mono bg-gray-800 p-3 rounded-lg">
                    P(x) = 0, где P(x) — многочлен степени n ≥ 3
                </p>
                <p>Примеры: x³ - 6x² + 11x - 6 = 0 (кубическое), x⁴ - 5x² + 4 = 0 (биквадратное).</p>
                
                <h4 class="font-semibold mt-6 mb-2">2. Методы решения:</h4>
                
                <div class="mt-6 p-5 bg-gray-800 bg-opacity-50 rounded-xl">
                    <h5 class="font-semibold text-blue-400">Разложение на множители:</h5>
                    <p>Ищите общие множители или используйте формулы сокращенного умножения.</p>
                </div>
                
                <div class="mt-6 p-5 bg-gray-800 bg-opacity-50 rounded-xl">
                    <h5 class="font-semibold text-green-400">Метод группировки:</h5>
                    <p>Группируйте слагаемые так, чтобы можно было вынести общий множитель.</p>
                </div>
                
                <div class="mt-6 p-5 bg-gray-800 bg-opacity-50 rounded-xl">
                    <h5 class="font-semibold text-purple-400">Схема Горнера:</h5>
                    <p>Позволяет делить многочлен на (x - c) и находить корни.</p>
                </div>
                
                <div class="mt-6 p-5 bg-gray-800 bg-opacity-50 rounded-xl">
                    <h5 class="font-semibold text-yellow-400">Теорема Безу:</h5>
                    <p>Если a — корень, то P(x) делится на (x - a) без остатка.</p>
                </div>
                
                <div class="mt-6 p-5 bg-gray-800 bg-opacity-50 rounded-xl">
                    <h5 class="font-semibold text-red-400">Метод заменя:</h5>
                    <p>Заменяйте часть уравнения новой переменной (например, x² = t).</p>
                </div>
                
                <h4 class="font-semibold mt-6 mb-2">3. Пример:</h4>
                <div class="mt-6 p-5 bg-gray-800 bg-opacity-50 rounded-xl">
                    <p>Уравнение: x³ - 6x² + 11x - 6 = 0</p>
                    <p>- По теореме Безу: x = 1 — корень.</p>
                    <p>- Делим многочлен на (x - 1): получаем квадратное уравнение.</p>
                    <p>- Решаем квадратное уравнение: x = 2, x = 3.</p>
                    <p class="font-bold mt-2">Ответ: x ∈ {1, 2, 3}.</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Блок с задачей (скрыт по умолчанию) -->
    <div id="problem-section" class="hidden container mx-auto px-4 py-12 max-w-4xl">
        <button onclick="showMainMenu()" class="flex items-center text-gray-400 hover:text-white mb-8">
            <i class="fas fa-arrow-left mr-2"></i> Назад
        </button>
        
        <div class="card-glass rounded-2xl p-8">
            <!-- Заголовок блока -->
            <div class="flex justify-between items-center mb-6">
                <h2 id="block-title" class="text-2xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent"></h2>
                <div class="flex items-center">
                    <span id="problem-counter" class="bg-blue-500 text-white px-3 py-1 rounded-full text-sm"></span>
                    <span id="score-counter" class="ml-3 bg-green-500 text-white px-3 py-1 rounded-full text-sm"></span>
                </div>
            </div>
            
            <!-- Прогресс бар -->
            <div class="w-full bg-gray-700 rounded-full h-2 mb-8">
                <div id="progress-bar" class="progress-bar h-2 rounded-full"></div>
            </div>
            
            <!-- Текст задачи -->
            <div class="bg-gray-800 bg-opacity-50 rounded-xl p-6 mb-8">
                <p id="problem-text" class="text-lg"></p>
            </div>
            
            <!-- Поле для ответа -->
            <div class="mb-8">
                <label for="answer-input" class="block text-sm font-medium text-gray-300 mb-2">Ваш ответ:</label>
                <input type="text" id="answer-input", class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white placeholder-gray-400" placeholder="Введите ответ...">
                <p class="text-xs text-gray-400 mt-1">Для нескольких ответов разделяйте их запятыми (например: 1, -2, 3.5)</p>
            </div>
            
            <!-- Кнопки -->
            <div class="flex flex-col sm:flex-row gap-4">
                <button onclick="checkAnswer()" class="btn-gradient text-white font-bold py-3 px-6 rounded-lg flex-1 flex items-center justify-center">
                    <i class="fas fa-check-circle mr-2"></i> Проверить
                </button>
                <button onclick="showHint()" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg flex-1 flex items-center justify-center">
                    <i class="fas fa-lightbulb mr-2"></i> Подсказка
                </button>
            </div>
        </div>
    </div>
    
    <!-- Результаты (скрыт по умолчанию) -->
    <div id="results-section" class="hidden container mx-auto px-4 py-12 max-w-2xl">
        <div class="card-glass rounded-2xl p-8 text-center">
            <div class="p-8">
                <div id="result-icon" class="text-8xl mb-6 mx-auto"></div>
                <h2 id="result-title" class="text-3xl font-bold mb-4"></h2>
                <p id="result-score" class="text-xl mb-8"></p>
                <p id="result-message" class="text-lg mb-8"></p>
                
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button onclick="retryBlock()" class="btn-gradient text-white font-bold py-3 px-6 rounded-lg">
                        <i class="fas fa-redo mr-2"></i> Попробовать еще раз
                    </button>
                    <button onclick="showMainMenu()" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg">
                        <i class="fas fa-home mr-2"></i> В главное меню
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Подсказка (модальное окно) -->
    <div id="hint-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 px-4">
        <div class="card-glass rounded-2xl p-8 max-w-md w-full">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-blue-400">
                    <i class="fas fa-lightbulb mr-2"></i> Подсказка
                </h3>
                <button onclick="closeHint()", class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <p id="hint-text" class="text-gray-200"></p>
            <button onclick="closeHint()" class="btn-gradient text-white font-bold py-2 px-4 rounded-lg mt-6 w-full">
                Понятно
            </button>
        </div>
    </div>
    
    <script>
        // Текущее состояние приложения
        const appState = {
            currentBlock: 0,
            currentProblem: 0,
            score: 0,
            problems: [],
            blockNames: {
                1: "Виды уравнений",
                2: "Решение по ФСУ",
                3: "Метод группировки",
                4: "Схема Горнера",
                5: "Теорема Безу",
                6: "Новая переменная"
            },
            hints: {
                1: "Попробуйте разложить на множители или использовать подстановку.",
                2: "Вспомните формулы разности квадратов, кубов и квадрата суммы/разности.",
                3: "Сгруппируйте слагаемые так, чтобы можно было вынести общий множитель.",
                4: "Ищите целые корни среди делителей свободного члена.",
                5: "Пробуйте подставлять делители свободного члена в уравнение.",
                6: "Попробуйте заменить часть уравнения новой переменной (например, x² = t)."
            }
        };
        
        // Показать главное меню
        function showMainMenu() {
            document.getElementById('main-menu').classList.remove('hidden');
            document.getElementById('theory-section').classList.add('hidden');
            document.getElementById('problem-section').classList.add('hidden');
            document.getElementById('results-section').classList.add('hidden');
        }
        
        // Показать теорию
        function showTheory() {
            document.getElementById('main-menu').classList.add('hidden');
            document.getElementById('theory-section').classList.remove('hidden');
        }
        
        // Начать блок задач
        function startBlock(blockNum) {
            appState.currentBlock = blockNum;
            appState.currentProblem = 0;
            appState.score = 0;
            appState.problems = generateProblems(blockNum);
            
            showProblem();
        }
        
        // Генерация задач (теперь 12 задач вместо 5)
        function generateProblems(blockNum) {
            const problems = [];
            
            for (let i = 0; i < 12; i++) { // Изменено с 5 на 12
                let question, answer;
                
                switch (blockNum) {
                    case 1: // Виды уравнений
                        const eqType = Math.floor(Math.random() * 3) + 1;
                        if (eqType === 1) { // Кубическое уравнение
                            const roots = [randomInt(-3, 3), randomInt(-3, 3), randomInt(-3, 3)].sort((a, b) => a - b);
                            question = `Решите уравнение: (x - ${roots[0]})(x - ${roots[1]})(x - ${roots[2]}) = 0`;
                            answer = roots;
                        } else if (eqType === 2) { // Биквадратное уравнение
                            const b = [1, 4, 9][Math.floor(Math.random() * 3)];
                            question = `Решите уравнение: x⁴ - ${b}x² = 0`;
                            answer = [-Math.sqrt(b), 0, Math.sqrt(b)].map(x => Math.round(x));
                        } else { // Уравнение с кратными корнями
                            const root = randomInt(-2, 2);
                            const power = randomInt(2, 3);
                            question = `Решите уравнение: (x - ${root})^${power} = 0`;
                            answer = Array(power).fill(root);
                        }
                        break;
                        
                    case 2: // Решение по ФСУ
                        const fsuType = Math.floor(Math.random() * 3) + 1;
                        if (fsuType === 1) { // Разность квадратов
                            const a = randomInt(1, 5);
                            question = `Решите уравнение: x² - ${a*a} = 0`;
                            answer = [-a, a];
                        } else if (fsuType === 2) { // Разность кубов
                            const a = randomInt(1, 3);
                            question = `Решите уравнение: x³ - ${a*a*a} = 0`;
                            answer = [a];
                        } else { // Квадрат суммы/разности
                            const a = randomInt(1, 3);
                            const b = randomInt(1, 3);
                            if (Math.random() > 0.5) {
                                question = `Решите уравнение: x² + ${2*a*b}x + ${a*b*a*b} = 0`;
                                answer = [-a*b];
                            } else {
                                question = `Решите уравнение: x² - ${2*a*b}x + ${a*b*a*b} = 0`;
                                answer = [a*b];
                            }
                        }
                        break;
                        
                    case 3: // Метод группировки
                        const roots = [randomInt(-3, 3), randomInt(-3, 3), randomInt(-3, 3)].sort((a, b) => a - b);
                        const sum = roots[0] + roots[1] + roots[2];
                        const sumPairs = roots[0]*roots[1] + roots[0]*roots[2] + roots[1]*roots[2];
                        const product = roots[0] * roots[1] * roots[2];
                        question = `Решите уравнение: x³ - ${sum}x² + ${sumPairs}x - ${product} = 0`;
                        answer = roots;
                        break;
                        
                    case 4: // Схема Горнера
                        const root = randomInt(-3, 3);
                        const a = randomInt(1, 3);
                        const b = randomInt(-5, 5);
                        const c = -root * b;
                        question = `Решите уравнение: ${a}x³ + ${b - a*root}x² + ${c - b*root}x - ${c*root} = 0`;
                        answer = [root, -Math.floor(c/b)].sort((x, y) => x - y);
                        break;
                        
                    case 5: // Теорема Безу
                        const possibleRoots = [-3, -2, -1, 1, 2, 3];
                        const selectedRoots = [];
                        const numRoots = randomInt(1, 3);
                        for (let j = 0; j < numRoots; j++) {
                            const idx = Math.floor(Math.random() * possibleRoots.length);
                            selectedRoots.push(possibleRoots[idx]);
                            possibleRoots.splice(idx, 1);
                        }
                        question = `Решите уравнение: ${selectedRoots.map(r => `(x - ${r})`).join(' * ')} = 0`;
                        answer = selectedRoots.sort((x, y) => x - y);
                        break;
                        
                    case 6: // Новая переменная
                        const subType = Math.floor(Math.random() * 2) + 1;
                        if (subType === 1) { // Биквадратное
                            const b = [1, 4, 9][Math.floor(Math.random() * 3)];
                            question = `Решите уравнение: x⁴ - ${b}x² = 0`;
                            answer = [-Math.sqrt(b), 0, Math.sqrt(b)].map(x => Math.round(x));
                        } else { // Уравнение вида x(x² + kx + m) = 0
                            const k = randomInt(1, 3);
                            const m = randomInt(1, 3);
                            question = `Решите уравнение: x³ + ${k}x² + ${m}x = 0`;
                            const discriminant = k*k - 4*m;
                            answer = [0];
                            if (discriminant >= 0) {
                                const x1 = Math.round((-k + Math.sqrt(discriminant)) / 2);
                                const x2 = Math.round((-k - Math.sqrt(discriminant)) / 2);
                                answer.push(x1, x2);
                            }
                            answer.sort((x, y) => x - y);
                        }
                        break;
                }
                
                // Удаляем дубликаты и сортируем
                answer = [...new Set(answer)].sort((a, b) => a - b);
                problems.push({ question, answer });
            }
            
            return problems;
        }
        
        // Показать текущую задачу
        function showProblem() {
            if (appState.currentProblem >= appState.problems.length) {
                showResults();
                return;
            }
            
            document.getElementById('main-menu').classList.add('hidden');
            document.getElementById('problem-section').classList.remove('hidden');
            
            const problem = appState.problems[appState.currentProblem];
            
            // Обновляем UI
            document.getElementById('block-title').textContent = 
                `Блок ${appState.currentBlock}: ${appState.blockNames[appState.currentBlock]}`;
            
            document.getElementById('problem-counter').textContent = 
                `${appState.currentProblem + 1}/${appState.problems.length}`;
            
            document.getElementById('score-counter').textContent = 
                `Счет: ${appState.score}`;
            
            document.getElementById('problem-text').textContent = problem.question;
            document.getElementById('answer-input').value = '';
            
            // Обновляем прогресс бар
            const progress = ((appState.currentProblem) / appState.problems.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
        }
        
        // Проверить ответ
        function checkAnswer() {
            const userAnswer = document.getElementById('answer-input').value.trim();
            const correctAnswer = appState.problems[appState.currentProblem].answer;
            
            if (!userAnswer) {
                alert('Пожалуйста, введите ответ!');
                return;
            }
            
            try {
                // Разделяем ответы пользователя
                const userAnswers = userAnswer.split(',')
                    .map(x => x.trim())
                    .filter(x => x !== '')
                    .map(x => parseInt(x))
                    .sort((a, b) => a - b);
                
                // Проверяем ответы
                const isCorrect = JSON.stringify(userAnswers) === JSON.stringify(correctAnswer);
                
                if (isCorrect) {
                    appState.score++;
                    showFeedback(true, correctAnswer.join(', '));
                } else {
                    showFeedback(false, correctAnswer.join(', '));
                }
                
                appState.currentProblem++;
                setTimeout(showProblem, 1500);
            } catch (e) {
                alert('Ошибка при проверке ответа. Проверьте формат ввода.');
                console.error(e);
            }
        }
        
        // Показать обратную связь
        function showFeedback(isCorrect, correctAnswer) {
            const modal = document.createElement('div');
            modal.className = `fixed inset-0 flex items-center justify-center z-50 ${isCorrect ? 'bg-green-500' : 'bg-red-500'} bg-opacity-70`;
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-8 max-w-sm w-full text-center">
                    <div class="text-6xl mb-4">${isCorrect ? '✅' : '❌'}</div>
                    <h3 class="text-2xl font-bold mb-2">${isCorrect ? 'Правильно!' : 'Неверно'}</h3>
                    ${!isCorrect ? `<p class="mb-2">Правильный ответ: <span class="font-mono">${correctAnswer}</span></p>` : ''}
                    <button onclick="this.parentElement.parentElement.remove()" class="mt-4 ${isCorrect ? 'bg-green-500' : 'bg-red-500'} text-white font-bold py-2 px-6 rounded-lg">
                        Продолжить
                    </button>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        // Показать подсказку
        function showHint() {
            document.getElementById('hint-text').textContent = appState.hints[appState.currentBlock];
            document.getElementById('hint-modal').classList.remove('hidden');
        }
        
        // Закрыть подсказку
        function closeHint() {
            document.getElementById('hint-modal').classList.add('hidden');
        }
        
        // Показать результаты
        function showResults() {
            document.getElementById('problem-section').classList.add('hidden');
            document.getElementById('results-section').classList.remove('hidden');
            
            const totalProblems = appState.problems.length;
            const percentage = Math.round((appState.score / totalProblems) * 100);
            
            // Устанавливаем иконку результата
            const resultIcon = document.getElementById('result-icon');
            if (percentage === 100) {
                resultIcon.innerHTML = '<i class="fas fa-trophy text-yellow-400"></i>';
            } else if (percentage >= 80) {
                resultIcon.innerHTML = '<i class="fas fa-star text-blue-400"></i>';
            } else if (percentage >= 50) {
                resultIcon.innerHTML = '<i class="fas fa-check-circle text-green-400"></i>';
            } else {
                resultIcon.innerHTML = '<i class="fas fa-redo text-red-400"></i>';
            }
            
            // Устанавливаем текст
            document.getElementById('result-title').textContent = 
                `Блок ${appState.currentBlock} завершен!`;
            document.getElementById('result-score').textContent = 
                `Ваш результат: ${appState.score} из ${totalProblems}`;
            
            const resultMessage = document.getElementById('result-message');
            if (percentage === 100) {
                resultMessage.textContent = 'Идеальный результат! Вы настоящий мастер уравнений!';
                resultMessage.className = 'text-lg text-yellow-400';
            } else if (percentage >= 80) {
                resultMessage.textContent = 'Отличный результат! Продолжайте в том же духе!';
                resultMessage.className = 'text-lg text-blue-400';
            } else if (percentage >= 50) {
                resultMessage.textContent = 'Хороший результат! Еще немного практики!';
                resultMessage.className = 'text-lg text-green-400';
            } else {
                resultMessage.textContent = 'Попробуйте еще раз и изучите теорию внимательнее!';
                resultMessage.className = 'text-lg text-red-400';
            }
        }
        
        // Повторить блок
        function retryBlock() {
            startBlock(appState.currentBlock);
        }
        
        // Выйти из приложения
        function exitApp() {
            if (confirm('Вы уверены, что хотите выйти?')) {
                alert('Спасибо за использование приложения!');
            }
        }
        
        // Вспомогательная функция для генерации случайных целых чисел
        function randomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
    </script>
</body>
</html>
